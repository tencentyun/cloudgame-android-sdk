# **接口概览**

## 顶层接口

通过 `TcrSdk` 对象调用的接口。
<table>
<tr>
<td rowspan="1" colSpan="1" >方法</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >init</td>

<td rowspan="1" colSpan="1" >初始化 SDK，初始化成功后才能使用其他接口。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >createTcrSession</td>

<td rowspan="1" colSpan="1" >创建会话对象 TcrSession，用于和云手机进行交互。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >createTcrRenderView</td>

<td rowspan="1" colSpan="1" >创建渲染视图 TcrRenderView，用于显示云手机画面和视图交互。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setAccessToken</td>

<td rowspan="1" colSpan="1" >设置 accessToken，通过[云 API](https://cloud.tencent.com/document/api/1162/119708) 获取 AccessToken，可通过该接口设置也可以通过 init 参数传入。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >getAndroidInstance</td>

<td rowspan="1" colSpan="1" >获取安卓实例对象 AndroidInstance，用于操作云手机安卓实例。</td>
</tr>
</table>


## 会话接口

通过 `TcrSession` 对象调用的接口。
<table>
<tr>
<td rowspan="1" colSpan="1" >方法</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="2" style="text-align: center; vertical-align: middle;">生命周期相关接口</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >access</td>

<td rowspan="1" colSpan="1" >启动会话，在本地会话对象初始化成功后，调用此方法，以建立和指定 Id 的云手机的连接。在成功建立连接后，此会话对象才能与指定的云手机进行交互。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >release</td>

<td rowspan="1" colSpan="1" >释放会话，客户端释放本地会话资源。云端会在自动检测到心跳消失后释放云端资源。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >getRequestId</td>

<td rowspan="1" colSpan="1" >获取会话请求ID</td>
</tr>

<tr>
<td rowspan="1" colSpan="2" style="text-align: center; vertical-align: middle;">音视频流控制接口</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setEnableAudioPlaying</td>

<td rowspan="1" colSpan="1" >开关音频播放</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setEnableLocalAudio</td>

<td rowspan="1" colSpan="1" >开关音频上行</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setEnableLocalVideo</td>

<td rowspan="1" colSpan="1" >开关视频上行</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >pauseStreaming</td>

<td rowspan="1" colSpan="1" >暂停音视频流下行</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >resumeStreaming</td>

<td rowspan="1" colSpan="1" >恢复音视频流下行</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setRemoteAudioPlayProfile</td>

<td rowspan="1" colSpan="1" >设置下行的音频的参数</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setLocalVideoProfile</td>

<td rowspan="1" colSpan="1" >设置上行的视频的参数</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setVideoSink</td>

<td rowspan="1" colSpan="1" >设置下行视频的接收器</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setAudioSink</td>

<td rowspan="1" colSpan="1" >设置下行音频的接收器</td>
</tr>

<tr>
<td rowspan="1" colSpan="2" style="text-align: center; vertical-align: middle;">云端应用交互接口</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >restartCloudApp</td>

<td rowspan="1" colSpan="1" >重启云端应用进程</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >pasteText</td>

<td rowspan="1" colSpan="1" >向云端应用输入框粘贴文本（需输入框已聚焦）</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setDisableCloudInput</td>

<td rowspan="1" colSpan="1" >禁用云端软键盘（仅支持移动端应用）</td>
</tr>

<tr>
<td rowspan="1" colSpan="2" style="text-align: center; vertical-align: middle;">云端外设交互​接口</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >getTouchScreen</td>

<td rowspan="1" colSpan="1" >获取云端触摸屏交互对象 TouchScreen</td>
</tr>
</table>


## 触摸屏交互接口

通过 `TouchScreen` 对象调用的接口。
<table>
<tr>
<td rowspan="1" colSpan="1" >方法</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >touch</td>

<td rowspan="1" colSpan="1" >触发云端触屏触摸事件</td>
</tr>
</table>


## 安卓实例操作接口

通过 `AndroidInstance` 对象调用的接口。
<table>
<tr>
<td rowspan="1" colSpan="1" >方法</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="2" >**单实例操作接口**</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >getInstanceImageAddress</td>

<td rowspan="1" colSpan="1" >获取实例截图地址</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >getInstanceImage</td>

<td rowspan="1" colSpan="1" >获取实例截图</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >uploadFile</td>

<td rowspan="1" colSpan="1" >上传文件到实例</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >uploadMedia</td>

<td rowspan="1" colSpan="1" >上传媒体文件到实例</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >getInstanceDownloadAddress</td>

<td rowspan="1" colSpan="1" >获取文件下载地址</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >getInstanceDownloadLogcatAddress</td>

<td rowspan="1" colSpan="1" >获取日志文件下载地址</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >downloadFile</td>

<td rowspan="1" colSpan="1" >下载文件</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >switchIME</td>

<td rowspan="1" colSpan="1" >切换输入法</td>
</tr>

<tr>
<td rowspan="1" colSpan="2" >**多实例批量操作接口**</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setLocation</td>

<td rowspan="1" colSpan="1" >设置设备 GPS 信息，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setResolution</td>

<td rowspan="1" colSpan="1" >设置设备分辨率，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >paste</td>

<td rowspan="1" colSpan="1" >粘贴文本，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >sendClipboard</td>

<td rowspan="1" colSpan="1" >发送文本到剪切板，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >shake</td>

<td rowspan="1" colSpan="1" >摇一摇，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setSensor</td>

<td rowspan="1" colSpan="1" >设置设备传感器信息，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >sendTransMessage</td>

<td rowspan="1" colSpan="1" >发送 App binder 消息，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >describeInstanceProperties</td>

<td rowspan="1" colSpan="1" >查询实例属性，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >modifyInstanceProperties</td>

<td rowspan="1" colSpan="1" >修改实例属性，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >listUserApps</td>

<td rowspan="1" colSpan="1" >查询已安装第三方应用，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >modifyKeepFrontAppStatus</td>

<td rowspan="1" colSpan="1" >修改前台应用保活状态，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >describeKeepFrontAppStatus</td>

<td rowspan="1" colSpan="1" >查询前台应用保活状态，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >unInstallByPackageName</td>

<td rowspan="1" colSpan="1" >卸载应用，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >startApp</td>

<td rowspan="1" colSpan="1" >启动应用，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >stopApp</td>

<td rowspan="1" colSpan="1" >停止应用，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >clearAppData</td>

<td rowspan="1" colSpan="1" >清除应用数据，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >enableApp</td>

<td rowspan="1" colSpan="1" >启用应用，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >disableApp</td>

<td rowspan="1" colSpan="1" >禁用应用，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >startCameraMediaPlay</td>

<td rowspan="1" colSpan="1" >摄像头播放媒体文件，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >stopCameraMediaPlay</td>

<td rowspan="1" colSpan="1" >摄像头停止播放媒体文件，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >describeCameraMediaPlayStatus</td>

<td rowspan="1" colSpan="1" >查询当前摄像头媒体播放状态，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >displayCameraImage</td>

<td rowspan="1" colSpan="1" >摄像头显示图片，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >addKeepAliveList</td>

<td rowspan="1" colSpan="1" >增加后台保活应用，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >removeKeepAliveList</td>

<td rowspan="1" colSpan="1" >移除后台保活应用，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setKeepAliveList</td>

<td rowspan="1" colSpan="1" >覆盖后台保活应用，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >describeKeepAliveList</td>

<td rowspan="1" colSpan="1" >查询后台保活应用，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >clearKeepAliveList</td>

<td rowspan="1" colSpan="1" >清空后台保活应用，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >mute</td>

<td rowspan="1" colSpan="1" >静音开关，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >mediaSearch</td>

<td rowspan="1" colSpan="1" >搜索媒体库文件，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >reboot</td>

<td rowspan="1" colSpan="1" >重启实例，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >listAllApps</td>

<td rowspan="1" colSpan="1" >查询所有应用列表，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >moveAppBackground</td>

<td rowspan="1" colSpan="1" >关闭应用至后台，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >addAppInstallBlackList</td>

<td rowspan="1" colSpan="1" >新增应用安装黑名单，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >removeAppInstallBlackList</td>

<td rowspan="1" colSpan="1" >移除应用安装黑名单，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >setAppInstallBlackList</td>

<td rowspan="1" colSpan="1" >覆盖应用安装黑名单，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >describeAppInstallBlackList</td>

<td rowspan="1" colSpan="1" >查询应用安装黑名单，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >clearAppInstallBlackList</td>

<td rowspan="1" colSpan="1" >清空应用安装黑名单，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >getNavVisibleStatus</td>

<td rowspan="1" colSpan="1" >获取系统导航栏显示状态，支持批量实例操作。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >getSystemMusicVolume</td>

<td rowspan="1" colSpan="1" >获取系统媒体音量大小，支持批量实例操作。</td>
</tr>
</table>




# 接口详细说明

## **初始化 SDK**

初始化（init）云手机 SDK，初始化成功后才能使用 SDK 的其他接口。

### **输入参数**

TcrConfig
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >type</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >SdkType</td>

<td rowspan="1" colSpan="1" >SDK 类型，云手机请设置为 CloudPhone。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >ctx</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >Context</td>

<td rowspan="1" colSpan="1" >当前应用的 Android Context。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >logger</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >TcrLogger</td>

<td rowspan="1" colSpan="1" >用于接收 SDK 日志的对象，App 需要将收到的 SDK 日志存储到文件和上报，以便分析定位 SDK 运行时的问题。<br>如果App没有显示设置 logger，SDK 会将日志打印到系统 logcat 以及写入日志文件（/storage/emulated/0/Android/data/app package name/files/tcrlogs 目录下）。<br>注意，当你反馈 SDK 问题时，你需要提供相应的日志。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >callback</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >AsyncCallback</td>

<td rowspan="1" colSpan="1" >初始化的异步回调对象。必须在回调成功后才能使用 SDK 的其他接口。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >accessInfo</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >Boolean</td>

<td rowspan="1" colSpan="1" >实例访问的 accessInfo，通过[云 API](https://cloud.tencent.com/document/api/1162/119708) 获取。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >token</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >Boolean</td>

<td rowspan="1" colSpan="1" >实例访问的 token，通过[云 API](https://cloud.tencent.com/document/api/1162/119708) 获取。</td>
</tr>
</table>


### **示例**
``` java
TcrSdk.TcrConfig config = new TcrSdk.TcrConfig();
config.type = SdkType.CloudPhone;
config.ctx = this;
config.logger = new TcrLogger() {
// 实现日志记录逻辑
};
config.callback = new AsyncCallback<Void>() {
……
};
config.accessInfo = ……;
config.token = ……;
TcrSdk.getInstance().init(config);
```

## 创建会话

创建会话（createTcrSession）对象，用于和云手机进行交互。

会话对象创建后，SDK内部会异步执行会话的本地初始化逻辑，初始化结果会通知给 builder 传入的参数 TcrSession#Observer 对象的 onEvent() 方法 。成功的通知事件为 TcrSession.Event#STATE_INITED，失败的通知事件为 TcrSession.Event#STATE_CLOSED。使用者只有在收到会话初始化成功的事件之后，才能进一步调用 access() 方法与云手机进行建连。

### 输入参数

见 [TcrSessionConfig](https://tencentyun.github.io/cloudgame-android-sdk/tcrsdk/3.24.0/com/tencent/tcr/sdk/api/TcrSessionConfig.html) 。

### 返回值

创建的会话对象。如果为 null 则代表对象创建失败（通常是因 Sdk 状态异常，例如未初始化成功）。

注意，只有成功创建了会话对象，内部才会执行会话的本地初始化逻辑，才可能进一步收到 observer 的回调事件。

### 示例
``` java
// Tcr会话的观察者，处理各类事件通知的消息和数据
private final Observer mSessionObserver = new Observer() {
    @Override
    public void onEvent(TcrSession.Event event, Object eventData) {
        switch (event) {
            case STATE_INITED:// 本地会话对象初始化完成
                // 可以开始连接指定的云手机。
                boolean ret = mTcrSession.access(mGroupInstanceIds, mIsGroupControl);
                if (!ret) {
                    showToast("连接云手机失败，请重试", Toast.LENGTH_SHORT);
                    finish();
                }
                break;
            case STATE_CONNECTED:// 成功和指定的云手机建立连接
                // 设置群控云手机的主控、同步列表、请求主控视频流
                if (mIsGroupControl) {
                    String masterId = mGroupInstanceIds.get(0);
                    TcrSdk.getInstance().getAndroidInstance().setMaster(masterId);
                    TcrSdk.getInstance().getAndroidInstance().setSyncList(mGroupInstanceIds);
                    TcrSdk.getInstance().getAndroidInstance().requestStream(masterId, "open", "low");
                }
                break;
            case STATE_CLOSED:
                showToast("会话关闭", Toast.LENGTH_SHORT);
                finish();
                break;
        }
    }
};

// 创建Tcr会话对象
private void initTcrSession() {
    TcrSessionConfig tcrSessionConfig = TcrSessionConfig.builder().observer(mSessionObserver).build();
    mTcrSession = TcrSdk.getInstance().createTcrSession(tcrSessionConfig);
    if (mTcrSession == null) {
        Log.e(TAG, "mTcrSession = null");
        showToast("创建会话失败，请检查TcrSdk是否初始化成功", Toast.LENGTH_SHORT);
    }
}
```

## 创建渲染视图

创建渲染视图（createTcrRenderView）对象，用于UI 上显示云手机画面和视图交互。

### 输入参数
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >context</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >Context</td>

<td rowspan="1" colSpan="1" >视图的 Android Context</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >session</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >TcrSession</td>

<td rowspan="1" colSpan="1" >视图关联的会话对象</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >type</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >TcrRenderViewType</td>

<td rowspan="1" colSpan="1" >视图类型</td>
</tr>
</table>


### 示例
``` java
// 创建渲染视图
mRenderView = TcrSdk.getInstance().createTcrRenderView(PlayActivity.this, mTcrSession, TcrRenderViewType.SURFACE);
if (mRenderView == null) {
    Log.e(TAG, "createTcrRenderView 失败");
    return;
}
// 将渲染视图添加到界面上
((FrameLayout) findViewById(R.id.render_view_parent)).addView(mRenderView);
```

## 设置 AccessToken

设置 accessToken（setAccessToken）

### **输入参数**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >accessInfo</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >accessInfo</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >token</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >token</td>
</tr>
</table>


## 获取安卓实例

获取安卓实例对象（getAndroidInstance），用于操作云手机安卓实例。
``` java
AndroidInstance androidInstance = TcrSdk.getInstance().getAndroidInstance();
```

## 

## 启动会话

启动会话（access），建立与云手机的连接。在本地会话对象初始化成功后（参见创建会话），调用此方法，以建立和指定 Id 的云手机的连接。在调用此方法之前，需要在 init() 方法的 TcrConfig 内传入正确的 accessToken 或者调用了 setAccessToken()。

建连的结果会异步回调给 TcrSession#Observer#onEvent() 方法，成功事件为 TcrSession.Event#STATE_CONNECTED ，失败事件为 TcrSession.Event#STATE_CLOSED。使用者只有在收到成功建立连接的事件后，才能使用此会话对象与指定的云手机进行交互。

### **输入参数**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >instanceIds</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >ArrayList<String></td>

<td rowspan="1" colSpan="1" >此会话要控制的实例 Id 列表。如果 isGroupControl 为 false，则只会取列表里的第一个元素。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >isGroupControl</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >boolean</td>

<td rowspan="1" colSpan="1" >是否群控</td>
</tr>
</table>


### 返回值

连接请求是否成功发起（注意：实际连接结果异步回调返回）。

返回 true：已成功发起连接请求。

返回 false：请求发送失败（通常因参数无效或会话状态异常）。

### 示例

参见前面 创建会话 的示例。

## 释放会话

释放会话（release），客户端释放本地会话资源。云端会在自动检测到心跳消失后释放云端资源。

### 示例
``` java
mTcrSession.release();
```

## 获取会话请求 ID

获取当前会话的请求ID（getRequestId），用于和 Sdk 后台排查问题。

### 示例
``` java
mTcrSession.getRequestId();
```

## 开关音频播放

### 输入参数
- enable：true启用音频播放，false禁用。


### 返回值

无

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 开关音频上行

启用或禁用从麦克风捕获的本地音轨。启用后，本地捕获的音频会上行至云端。

### 输入参数
- enableLocalAudio：true启用，false禁用。


### 返回值

无

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 开关视频上行

启用或禁用从摄像头捕获的本地视频。启用后，本地捕获的视频画面会上行至云端。

### 输入参数
- enableLocalVideo：true启用，false禁用。


### 返回值

无

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 暂停音视频流下行

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 恢复音视频流下行

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 设置上行的视频的参数

配置本地上行的视频的参数（分辨率、帧率、码率、摄像头方向）。

### 输入参数
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >width</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >视频宽度</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >height</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >视频高度</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >fps</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >帧率</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >minBitrate</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >最小比特率</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >maxBitrate</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >最大比特率</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >isFrontCamera</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >BOOL</td>

<td rowspan="1" colSpan="1" >是否为前置摄像头</td>
</tr>
</table>


### 返回值

无

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 设置下行的音频的参数

设置远端下行的音频的参数（音量）。

### 输入参数
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >volume</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >float</td>
</tr>
</table>


### 返回值

无

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 设置下行视频的接收器

设置视频渲染目标。SDK将解码后的视频帧回调到videoSink，用于后处理或渲染。

### 输入参数
- videoSink：视频接收器，传null可移除现有目标。


### 返回值

无

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 设置下行音频的接收器

为本次会话设置一个音频接收器。设置完成后，SDK 会将音频数据回调到该音频接收器。

### 输入参数
- audioSink：音频接收器，传null可移除现有目标。


### 返回值

无

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 重启云端应用

重启云端应用进程。

### 输入参数

无

### 返回值

无

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 向云应用粘贴文本

向云端应用输入框粘贴文本（需输入框已聚焦）。

### 输入参数
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >text</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >要粘贴的文本内容</td>
</tr>
</table>


### 返回值

无

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 禁用云端软键盘

禁用云端软键盘（仅支持移动端应用）。

### 输入参数
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >disableCloudInput</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >boolean</td>

<td rowspan="1" colSpan="1" >是否禁用云端输入</td>
</tr>
</table>


### 返回值

无

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 获取云端触摸屏交互对象

获取当前会话的云端触摸屏交互对象，用和云端触摸屏进行交互。该方法将本地触摸视图的事件转换为云端触摸的事件，实现远程触控交互。

### 输入参数

无

### 返回值

可以和云端触摸屏进行交互的 TouchScreen 对象。

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)

## 触发云端触屏触摸事件

向云端触摸屏发送触摸事件，模拟用户对云端设备的触控操作（如点击、滑动等）。

### 输入参数
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >x</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >float</td>

<td rowspan="1" colSpan="1" >触摸点在渲染视图中的水平坐标。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >y</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >float</td>

<td rowspan="1" colSpan="1" >触摸点在渲染视图中的垂直坐标。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >eventType</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >触摸事件类型，0代表按下, 1代表移动，2代表抬起。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >fingerID</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >触摸点唯一标识符。同一手势中，同一手指的多次事件（如按下→移动→抬起）共享相同 fingerID，用于跟踪多点触控轨迹。<br>来源：通常从 android.view.MotionEvent.getPointerId(int) 获取。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >width</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >渲染视图的宽度（像素单位）。用于坐标归一化计算，确保 x 值在 [0, width] 范围内有效。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >height</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >渲染视图的高度（像素单位）。用于坐标归一化计算，确保 y 值在 [0, height] 范围内有效。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >timestamp</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >long</td>

<td rowspan="1" colSpan="1" >含义：事件发生的时间戳（单位：毫秒），基于系统启动时间（SystemClock.uptimeMillis()）。<br>用途：保证事件顺序一致性，云端可据此处理时序逻辑（如手势识别）。<br>来源：从 MotionEvent.getEventTime() 获取。</td>
</tr>
</table>


### 返回值

无

### 调用示例

参考 [TcrDemo](https://github.com/tencentyun/cloudgame-android-sdk/tree/master/TcrSdk/Demo/TcrDemo)



## 获取实例截图地址

获取实例截图地址（getInstanceImageAddress） 

### **输入参数**

Map<String, Object> params，内容为：
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >instanceId</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >实例 Id</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >quality</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >截图质量，取值范围 0-100，默认 20</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >screenshot_width</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >截图宽度</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >screenshot_height</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >截图高度</td>
</tr>
</table>


### **返回值**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >url</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >截图地址，失败返回null</td>
</tr>
</table>


### 示例
``` java
Map<String, Object> params = new HashMap<>();
params.put("instance_id", mInstanceIds.get(0));
params.put("screenshot_quality", 80);
params.put("screenshot_width", 1080);
params.put("screenshot_height", 1920);
String url = getAndroidInstance().getInstanceImageAddress(params);
```

## 获取实例截图

获取实例截图信息（getInstanceImage） 

### **输入参数**

Map<String, Object> params，内容为：
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >instanceId</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >实例 Id</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >quality</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >截图质量，取值范围 0-100，默认 20</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >screenshot_width</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >截图宽度</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >screenshot_height</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >截图高度</td>
</tr>
</table>


AsyncCallback 异步回调对象。

### **返回值**

异步回调AsyncCallback，成功返回 Bitmap 对象。

### 示例
``` java
Map<String, Object> params = new HashMap<>();
params.put("instance_id", mInstanceIds.get(0));
params.put("screenshot_quality", 80);
params.put("screenshot_width", 1080);
params.put("screenshot_height", 1920);
AsyncCallback<Bitmap> callback = new AsyncCallback<Bitmap>() {
    @Override
    public void onSuccess(Bitmap bitmap) {
    }

    @Override
    public void onFailure(int code, String errorMsg) {
    }
};
getAndroidInstance().getInstanceImage(params, callback);
```

## 上传文件到实例

上传文件到实例（uploadFile）

**默认上传到 /sdcard/Download 目录下，可使用 path 指定上传目录（仅支持/sdcard/ 下目录）**

### **输入参数**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >instanceId</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >目标云手机实例 Id</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >files</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >UploadFileItem[]</td>

<td rowspan="1" colSpan="1" >要上传的文件数组</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >file.fileBytes</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >byte[]</td>

<td rowspan="1" colSpan="1" >文件二进制内容</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >file.file</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >文件名（含扩展名）</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >file.path</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >云端存储路径，如 "/sdcard/Download/"</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >callback</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >AsyncCallback<String></td>

<td rowspan="1" colSpan="1" >异步回调对象</td>
</tr>
</table>


### **返回值**

json 字符串：**{Code: int; Message: string; FileStatus: [{ CloudPath: string; FileName: string }]}**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Code</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >Code</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Message</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >Message</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >FileStatus</td>

<td rowspan="1" colSpan="1" >Object[]</td>

<td rowspan="1" colSpan="1" >FileStatus</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >FileStatus.CloudPath</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >CloudPath</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >FileStatus.FileName</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >FileName</td>
</tr>
</table>


### 示例
``` java
private void upload(ArrayList<Uri> fileList, boolean isMedia) {
    UploadFileItem[] files = new UploadFileItem[fileList.size()];
    for (int i = 0; i < fileList.size(); i++) {
        files[i] = new UploadFileItem();
        files[i].fileBytes = readFilesFromUris(fileList.get(i));
        files[i].fileName = getFileNameFromUri(fileList.get(i));
        files[i].filePath = "/sdcard/Movies/";
    }

    AsyncCallback<String> callback = new AsyncCallback<String>() {
        @Override
        public void onSuccess(String response) {
            // 示例数据 {Code=0, Message='null', FileStatus=[FileStatus{FileName='testDownloadFile', CloudPath='/sdcard/Download/testDownloadFile'}]}
            UploadResponse uploadResponse = GsonUtils.fromJson(response, UploadResponse.class);
            LogUtils.d(TAG, "get response: " + uploadResponse);
            if (uploadResponse == null) {
                mResultTextView.setText("文件上传异常: uploadResponse 解析失败");
                return;
            }
            if (uploadResponse.Code == 0) {
                StringBuilder sb = new StringBuilder("文件上传成功:\n");
                if (uploadResponse.FileStatus != null) {
                    for (UploadResponse.FileStatus status : uploadResponse.FileStatus) {
                        sb.append("文件名: ").append(status.FileName).append("\n云端路径: ")
                                .append(status.CloudPath).append("\n");
                    }
                }
                mResultTextView.setText(sb.toString());
            } else {
                mResultTextView.setText("文件上传失败: " + uploadResponse.Message);
            }
        }

        @Override
        public void onFailure(int code, String errorMsg) {
            mResultTextView.setText("文件上传失败: " + code + ", " + errorMsg);
        }
    };
    if (isMedia) {
        getAndroidInstance().uploadMedia(mInstanceIds.get(0), files, callback);
    } else {
        getAndroidInstance().uploadFile(mInstanceIds.get(0), files, callback);
    }
}
```

## 上传媒体到实例

上传媒体文件到实例（uploadMedia）

固定上传至 /data/media/0/DCIM 目录，上传完毕会通知系统添加媒体文件到相册中。

### **输入参数**

与“上传文件到实例（uploadFile）”方法一样，但会忽略 file.path 字段，云端固定存储至 /data/media/0/DCIM 目录。

### 返回值

Json 字符串：**{Code: int; Message: string;}**

### 示例

参考“上传文件到实例（uploadFile）”

## 获取文件下载地址

获取实例文件的下载地址（getInstanceDownloadAddress）

### **输入参数**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >instanceId</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >实例 Id</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >path</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >要下载的云端文件的路径</td>
</tr>
</table>


### **返回值**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >address</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >下载地址，失败返回null</td>
</tr>
</table>


### 示例
``` java
String address = getAndroidInstance().getInstanceDownloadAddress(mInstanceIds.get(0), "/sdcard/Download/testDownloadFile");
```

## 获取日志文件下载地址

获取云手机示例的日志文件的下载地址（getInstanceDownloadLogcatAddress）

### **输入参数**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >instanceId</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >实例 Id</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >recentDays</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" > int</td>

<td rowspan="1" colSpan="1" >表示下载几天内修改过的logcat日志文件</td>
</tr>
</table>


### **返回值**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >address</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >下载地址，失败返回null</td>
</tr>
</table>


### 示例
``` java
String address = getAndroidInstance().getInstanceDownloadAddress(mInstanceIds.get(0), 3);
```

## 下载文件

下载文件（downloadFile）

### **输入参数**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >params</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >Map<String, Object></td>

<td rowspan="1" colSpan="1" >下载参数，包含<br>instance_id: 云手机实例ID<br>path: 要下载的云端文件的路径</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >localFile</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >File</td>

<td rowspan="1" colSpan="1" >下载文件存储到本地的 File，应用需确保有写入权限。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >callback</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >AsyncCallback<String></td>

<td rowspan="1" colSpan="1" >异步回调对象</td>
</tr>
</table>


### **返回值**

异步回调结果

### 示例
``` java
String localPath = "/sdcard/Download/testDownloadFile";
String cloudPath = "/sdcard/Download/testDownloadFile";
Map<String, Object> params = new HashMap<>();
params.put("instance_id", mInstanceIds.get(0));
params.put("path", cloudPath);
AsyncCallback<String> callback = new AsyncCallback<String>() {
    @Override
    public void onSuccess(String response) {
        mResultTextView.setText("文件下载成功");
    }

    @Override
    public void onFailure(int code, String errorMsg) {
        mResultTextView.setText("文件下载失败: " + code + ", " + errorMsg);
    }
};
getAndroidInstance().downloadFile(params, new File(localPath), callback);
```

## 

## 切换输入法

切换输入法（switchIME）

### **输入参数**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >ime</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >"cloud" : 云端输入法，"local"： 本地输入法</td>
</tr>
</table>


### 示例
``` java
getAndroidInstance().switchIME("local");
```

## 设置设备 GPS 信息

设置设备 GPS 信息（setLocation），支持批量实例操作。

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { Longitude: double; Latitude: double } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Longitude</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >double</td>

<td rowspan="1" colSpan="1" >Longitude</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Latitude</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >double</td>

<td rowspan="1" colSpan="1" >Latitude</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("Longitude", 121.4737);
    param.addProperty("Latitude", 31.2304);
    params.put(instanceId, param);
}
getAndroidInstance().setLocation(params, mBatchCallback);
```

## 设置设备分辨率

设置设备分辨率（setResolution）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { Width: int; Height: int; DPI?: int } };**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Width</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >Width</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Height</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >Height</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >DPI</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >DPI</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("Width", 1080);
    param.addProperty("Height", 1920);
    param.addProperty("DPI", 420);
    params.put(instanceId, param);
}
getAndroidInstance().setResolution(params, mBatchCallback);
```

## 粘贴文本

粘贴文本（paste）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { Text: string } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Text</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >文本</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("Text", "粘贴的文本内容");
    params.put(instanceId, param);
}
getAndroidInstance().paste(params, mBatchCallback);
```

## 发送文本到剪切板

发送文本到剪切板（sendClipboard）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { Text: string } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Text</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >文本</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("Text", "剪贴板内容");
    params.put(instanceId, param);
}
getAndroidInstance().sendClipboard(params, mBatchCallback);
```

## 摇一摇

摇一摇（shake）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { } }**

### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().shake(params, mBatchCallback);
```

## 设置设备传感器信息

设置设备传感器信息（setSensor）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { Type: 'accelerometer' | 'gyroscope'; Values: double[] } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Type</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >传感器leasing accelerometer（加速器），gyroscope（陀螺仪）</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Accuracy</td>

<td rowspan="1" colSpan="1" >否</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >精度</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Values</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >double[]</td>

<td rowspan="1" colSpan="1" >传感器对应的值，数组长度为 3，分辨表示 x/y/z 轴的值</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("Type", "accelerometer");
    param.addProperty("Accuracy", 3);

    JsonArray values = new JsonArray();
    values.add(0.5);
    values.add(-0.3);
    values.add(0.8);
    param.add("Values", values);

    params.put(instanceId, param);
}
getAndroidInstance().setSensor(params, mBatchCallback);
```

## 发送 App binder 消息

发送 App binder 消息（sendTransMessage）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { PackageName: string; Msg: string } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >PackageName</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >PackageName</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Msg</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >Msg</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("PackageName", "com.example.app");
    param.addProperty("Msg", "消息内容");
    params.put(instanceId, param);
}
getAndroidInstance().sendTransMessage(params, mBatchCallback);
```

## 查询实例属性

查询实例属性（describeInstanceProperties）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { } **

### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().describeInstanceProperties(params, mBatchCallback);
```

## 修改实例属性

修改实例属性（modifyInstanceProperties）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: param** }，其中 param 内容参考：
``` json
{
  "RequestID": "modify_req_20230901001",
  "DeviceInfo": {
    "Brand": "Samsung",
    "Model": "Galaxy S24"
  },
  "ProxyInfo": {
    "Enabled": true,
    "Protocol": "socks5",
    "Host": "proxy.example.com",
    "Port": 1080,
    "User": "user123",
    "Password": "pass123"
  },
  "GPSInfo": {
    "Longitude": 121.4737,
    "Latitude": 31.2304
  },
  "SIMInfo": {
    "State": 1 // sim 状态。 1：未插入 sim 卡 5：sim 卡已就绪
  },
  "LocaleInfo": {
    "Timezone": "Asia/Shanghai"
  },
  "LanguageInfo": {
    "Language": "zh",
    "Country": "CN"
  },
  "ExtraProperties": [
    {
      "Key": "custom_property1",
      "Value": "value1"
    },
    {
      "Key": "custom_property2",
      "Value": "value2"
    }
  ]
}
```

### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("RequestID", UUID.randomUUID().toString());

    JsonObject deviceInfo = new JsonObject();
    deviceInfo.addProperty("Brand", "brand");
    deviceInfo.addProperty("Model", "model");
    param.add("DeviceInfo", deviceInfo);

    JsonObject proxyInfo = new JsonObject();
    proxyInfo.addProperty("Enabled", true);
    proxyInfo.addProperty("Protocol", "socks5");
    proxyInfo.addProperty("Host", "proxy.example.com");
    proxyInfo.addProperty("Port", 1080);
    proxyInfo.addProperty("User", "user");
    proxyInfo.addProperty("Password", "password");
    param.add("ProxyInfo", proxyInfo);

    JsonObject gpsInfo = new JsonObject();
    gpsInfo.addProperty("Longitude", 121.4737);
    gpsInfo.addProperty("Latitude", 31.2304);
    param.add("GPSInfo", gpsInfo);

    JsonObject simInfo = new JsonObject();
    simInfo.addProperty("State", 1);
    simInfo.addProperty("PhoneNumber", "1234567890");
    simInfo.addProperty("IMSI", "imsi");
    simInfo.addProperty("ICCID", "iccid");
    param.add("SIMInfo", simInfo);

    JsonObject localeInfo = new JsonObject();
    localeInfo.addProperty("Timezone", "Asia/Shanghai");
    param.add("LocaleInfo", localeInfo);

    JsonObject languageInfo = new JsonObject();
    languageInfo.addProperty("Language", "zh");
    languageInfo.addProperty("Country", "CN");
    param.add("LanguageInfo", languageInfo);

    JsonArray extraProperties = new JsonArray();
    JsonObject extraProp = new JsonObject();
    extraProp.addProperty("Key", "key");
    extraProp.addProperty("Value", "value");
    extraProperties.add(extraProp);
    param.add("ExtraProperties", extraProperties);

    params.put(instanceId, param);
}
getAndroidInstance().modifyInstanceProperties(params, mBatchCallback);
```

## 查询已安装第三方应用

查询已安装第三方应用（listUserApps）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { } **

### **返回值**

类型：**BatchTaskResponse**

其中每个实例 Id 返回的 JsonElement 内容参考：
``` json
{
  "AppList": [
    {
      "PackageName": "com.android.chrome",
      "LastUpdateTimeMs": 1667232000000,
      "FirstInstallTimeMs": 1635724800000,
      "VersionName": "115.0.5790.166",
      "Label": "Chrome"
    },
    {
      "PackageName": "com.tencent.mm",
      "LastUpdateTimeMs": 1667328405000,
      "FirstInstallTimeMs": 1635811200000,
      "VersionName": "8.0.35",
      "Label": "微信"
    },
    {
      "PackageName": "com.zhihu.android",
      "LastUpdateTimeMs": 1667256803000,
      "FirstInstallTimeMs": 1635897600000,
      "VersionName": "8.27.0",
      "Label": "知乎"
    }
  ],
  "Code": 0,
  "Msg": "xx"
}
```

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().listUserApps(params, mBatchCallback);
```

## 修改前台应用保活状态

修改前台应用保活状态（modifyKeepFrontAppStatus）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { PackageName: string; Enable: boolean; RestartInterValSeconds: int; } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >PackageName</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" > 包名</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Enable</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >Boolaen</td>

<td rowspan="1" colSpan="1" >是否保活</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >RestartInterValSeconds</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >重新拉起最长间隔</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("PackageName", "com.example.app");
    param.addProperty("Enable", true);
    param.addProperty("RestartInterValSeconds", 5);
    params.put(instanceId, param);
}
getAndroidInstance().modifyKeepFrontAppStatus(params, mBatchCallback);
```

## 查询前台应用保活状态

查询前台应用保活状态（describeKeepFrontAppStatus）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { } **

### **返回值**

类型：**BatchTaskResponse**

其中每个实例 Id 返回的 JsonElement 内容参考：
``` json
{
  "PackageName": "com.example.app",
  "Enable": true,
  "RestartInterValSeconds": 3,
  "Code": 0,
  "Msg": "xx"
}
```
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >PackageName</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" > 包名</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Enable</td>

<td rowspan="1" colSpan="1" >Boolean</td>

<td rowspan="1" colSpan="1" >是否保活</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >RestartInterValSeconds</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >重新拉起最长间隔</td>
</tr>
</table>


### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().describeKeepFrontAppStatus(params, mBatchCallback);
```

## 卸载应用

卸载应用（unInstallByPackageName）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { PackageName: string; } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >PackageName</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >PackageName</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("PackageName", "com.example.app");
    params.put(instanceId, param);
}
getAndroidInstance().unInstallByPackageName(params, mBatchCallback);
```

## 启动应用

启动应用（startApp）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { PackageName: string; ActivityName: string } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >PackageName</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >PackageName</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >ActivityName</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >ActivityName</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("PackageName", "com.example.app");
    param.addProperty("ActivityName", "com.example.app.MainActivity");
    params.put(instanceId, param);
}
getAndroidInstance().startApp(params, mBatchCallback);
```

## 停止应用

停止应用（stopApp）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { PackageName: string; } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >PackageName</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >PackageName</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("PackageName", "com.example.app");
    params.put(instanceId, param);
}
getAndroidInstance().stopApp(params, mBatchCallback);
```

## 清除应用数据

清除应用数据（clearAppData）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { PackageName: string; } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >PackageName</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >PackageName</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("PackageName", "com.example.app");
    params.put(instanceId, param);
}
getAndroidInstance().clearAppData(params, mBatchCallback);
```

## 启用应用

启用应用（enableApp）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { PackageName: string; } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >PackageName</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >PackageName</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("PackageName", "com.example.app");
    params.put(instanceId, param);
}
getAndroidInstance().enableApp(params, mBatchCallback);
```

## 禁用应用

禁用应用（disableApp）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { PackageName: string; } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >PackageName</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >PackageName</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("PackageName", "com.example.app");
    params.put(instanceId, param);
}
getAndroidInstance().disableApp(params, mBatchCallback);
```

## 摄像头播放媒体文件

摄像头播放媒体文件（startCameraMediaPlay）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { FilePath: string; Loops: int }; }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >FilePath</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >FilePath</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Loops</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >Loops</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("FilePath", "/sdcard/media.mp4");
    param.addProperty("Loops", 3);
    params.put(instanceId, param);
}
getAndroidInstance().startCameraMediaPlay(params, mBatchCallback);
```

## 摄像头停止播放媒体文件

摄像头停止播放媒体文件（stopCameraMediaPlay）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { }; }**

### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().stopCameraMediaPlay(params, mBatchCallback);
```

## 查询当前摄像头媒体播放状态

查询当前摄像头媒体播放状态（describeCameraMediaPlayStatus）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { }; }**

### **返回值**

类型：**BatchTaskResponse**

其中每个实例 Id 返回的 JsonElement 内容参考：
``` json
{
  "FilePath": "/sdcard/video.mp4",
  "Loops": 3,
  "Code": 0,
  "Msg": "xx"
}
```

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().describeCameraMediaPlayStatus(params, mBatchCallback);
```

## 摄像头显示图片

摄像头显示图片（displayCameraImage）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { FilePath: string; }; }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >FilePath</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >FilePath</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("FilePath", "/sdcard/image.png");
    params.put(instanceId, param);
}
getAndroidInstance().displayCameraImage(params, mBatchCallback);
```

## 增加后台保活应用

增加后台保活应用（addKeepAliveList）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { AppList: string[] } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >AppList</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String[]</td>

<td rowspan="1" colSpan="1" >AppList</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    JsonArray appList = new JsonArray();
    appList.add("com.example.app");
    param.add("AppList", appList);
    params.put(instanceId, param);
}
getAndroidInstance().addKeepAliveList(params, mBatchCallback);
```

## 移除后台保活应用

移除后台保活应用（removeKeepAliveList）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { AppList: string[] } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >AppList</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String[]</td>

<td rowspan="1" colSpan="1" >AppList</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    JsonArray appList = new JsonArray();
    appList.add("com.example.app");
    param.add("AppList", appList);
    params.put(instanceId, param);
}
getAndroidInstance().removeKeepAliveList(params, mBatchCallback);
```

## 覆盖后台保活应用

覆盖后台保活应用（setKeepAliveList）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { AppList: string[] } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >AppList</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String[]</td>

<td rowspan="1" colSpan="1" >AppList</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    JsonArray appList = new JsonArray();
    appList.add("com.example.app");
    param.add("AppList", appList);
    params.put(instanceId, param);
}
getAndroidInstance().setKeepAliveList(params, mBatchCallback);
```

## 查询后台保活应用

查询后台保活应用（describeKeepAliveList）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { }; }**

### **返回值**

类型：**BatchTaskResponse**

其中每个实例 Id 返回的 JsonElement 内容参考：
``` json
{
  "AppList": ["com.wechat", "com.alipay", "com.dingtalk"],
  "Code": 0,
  "Msg": "xx"
}
```

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().describeKeepAliveList(params, mBatchCallback);
```

## 清空后台保活应用

清空后台保活应用（clearKeepAliveList）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { }; }**

### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().clearKeepAliveList(params, mBatchCallback);
```

## 静音开关

静音开关（mute）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { Mute: boolean } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Mute</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >Boolean</td>

<td rowspan="1" colSpan="1" >Mute</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("Mute", true);
    params.put(instanceId, param);
}
getAndroidInstance().mute(params, mBatchCallback);
```

## 媒体库文件搜索

媒体库文件搜索（mediaSearch）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { Keyword: string } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Keyword</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >Keyword</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("Keyword", "搜索关键词");
    params.put(instanceId, param);
}
getAndroidInstance().mediaSearch(params, mBatchCallback);
```

## 重启实例

重启实例（reboot）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { }; }**

### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().reboot(params, mBatchCallback);
```

## 查询所有应用列表

查询所有应用列表（listAllApps）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { } **

### **返回值**

类型：**BatchTaskResponse**

其中每个实例 Id 返回的 JsonElement 内容参考：
``` json
{
  "AppList": [
    {
      "PackageName": "com.android.chrome",
      "LastUpdateTimeMs": 1667232000000,
      "FirstInstallTimeMs": 1635724800000,
      "VersionName": "115.0.5790.166",
      "Label": "Chrome"
    },
    {
      "PackageName": "com.tencent.mm",
      "LastUpdateTimeMs": 1667328405000,
      "FirstInstallTimeMs": 1635811200000,
      "VersionName": "8.0.35",
      "Label": "微信"
    },
    {
      "PackageName": "com.zhihu.android",
      "LastUpdateTimeMs": 1667256803000,
      "FirstInstallTimeMs": 1635897600000,
      "VersionName": "8.27.0",
      "Label": "知乎"
    }
  ],
  "Code": 0,
  "Msg": "xx"
}
```

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().listAllApps(params, mBatchCallback);
```

## 关闭应用至后台

关闭应用至后台（moveAppBackground）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { }; }**

### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().moveAppBackground(params, mBatchCallback);
```

## 新增应用安装黑名单

新增应用安装黑名单（addAppInstallBlackList）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { AppList: string[] } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >AppList</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String[]</td>

<td rowspan="1" colSpan="1" >AppList</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    JsonArray appList = new JsonArray();
    appList.add("com.example.app");
    param.add("AppList", appList);
    params.put(instanceId, param);
}
getAndroidInstance().addAppInstallBlackList(params, mBatchCallback);
```

## 移除应用安装黑名单

移除应用安装黑名单（removeAppInstallBlackList）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { AppList: string[] } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >AppList</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String[]</td>

<td rowspan="1" colSpan="1" >AppList</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    JsonArray appList = new JsonArray();
    appList.add("com.example.app");
    param.add("AppList", appList);
    params.put(instanceId, param);
}
getAndroidInstance().removeAppInstallBlackList(params, mBatchCallback);
```

## 覆盖应用安装黑名单

覆盖应用安装黑名单（setAppInstallBlackList）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { AppList: string[] } }**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >必选</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >AppList</td>

<td rowspan="1" colSpan="1" >是</td>

<td rowspan="1" colSpan="1" >String[]</td>

<td rowspan="1" colSpan="1" >AppList</td>
</tr>
</table>


### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    JsonObject param = new JsonObject();
    JsonArray appList = new JsonArray();
    appList.add("com.example.app");
    param.add("AppList", appList);
    params.put(instanceId, param);
}
getAndroidInstance().setAppInstallBlackList(params, mBatchCallback);
```

## 查询应用安装黑名单

查询应用安装黑名单（describeAppInstallBlackList）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { }; }**

### **返回值**

类型：**BatchTaskResponse**

其中每个实例 Id 返回的 JsonElement 内容参考：
``` json
{
  "AppList": ["com.wechat", "com.alipay", "com.dingtalk"],
  "Code": 0,
  "Msg": "xx"
}
```



### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().describeAppInstallBlackList(params, mBatchCallback);
```

## 清空应用安装黑名单

清空应用安装黑名单（clearAppInstallBlackList）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { }; }**

### **返回值**

类型：**BatchTaskResponse**

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().clearAppInstallBlackList(params, mBatchCallback);
```

## 获取系统导航栏显示状态

获取系统导航栏显示状态（getNavVisibleStatus）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { }; }**

### **返回值**

类型：**BatchTaskResponse**

其中每个实例 Id 返回的 JsonElement 内容参考：**{ Visible: boolean}**
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Visible</td>

<td rowspan="1" colSpan="1" >Boolean</td>

<td rowspan="1" colSpan="1" >Visible</td>
</tr>
</table>


### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().getNavVisibleStatus(params, mBatchCallback);
```

## 获取系统媒体音量大小

获取系统媒体音量大小（getSystemMusicVolume）

### **输入参数**

类型：Map<String, JsonObject> params，内容为 { [InstanceId: string]**: { }; }**

### **返回值**

类型：**BatchTaskResponse**

其中每个实例 Id 返回的 JsonElement 内容参考：
``` json
{
    "Volume":15,
    "Code": 0,
    "Msg": "xx"
}
```

### 示例
``` java
Map<String, JsonObject> params = new HashMap<>();
for (String instanceId : mInstanceIds) {
    params.put(instanceId, new JsonObject());
}
getAndroidInstance().getSystemMusicVolume(params, mBatchCallback);
```

# 相关数据结构

## 批量操作返回值

批量操作返回值（**BatchTaskResponse**）

### 数据结构
<table>
<tr>
<td rowspan="1" colSpan="1" >参数名称</td>

<td rowspan="1" colSpan="1" >类型</td>

<td rowspan="1" colSpan="1" >描述</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Code</td>

<td rowspan="1" colSpan="1" >int</td>

<td rowspan="1" colSpan="1" >* Code 为 0 表示所有操作成功完成，非0值表示操作失败或部分失败。<br>* Code: 10001, Msg: "invalid param"<br>* Code: 10002, Msg: "invalid token"<br>* Code: 10003, Msg: "invalid operate"</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >Msg</td>

<td rowspan="1" colSpan="1" >String</td>

<td rowspan="1" colSpan="1" >暂无意义</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >SuccResult</td>

<td rowspan="1" colSpan="1" >Map<String, JsonElement></td>

<td rowspan="1" colSpan="1" >成功操作的实例结果映射：<br>key: 云手机实例ID<br>value: 该实例操作成功的返回结果对象，使用JsonElement封装，具体内容取决于操作类型，见具体操作接口说明。</td>
</tr>

<tr>
<td rowspan="1" colSpan="1" >FailResult</td>

<td rowspan="1" colSpan="1" >Map<String, JsonElement></td>

<td rowspan="1" colSpan="1" >失败操作的实例结果映射：<br>key: 云手机实例ID<br>value: 该实例操作失败的返回结果对象，使用JsonElement封装，通常包含错误码和错误信息。例如：<br>{<br>      "Code": 10100,<br>      "Msg": "cai opeartion denied"<br>}</td>
</tr>
</table>


### 使用示例
``` java
AndroidInstance instance = TcrSdk.getInstance().getAndroidInstance();
Map<String, JsonObject> params = new HashMap<>();
String[] instanceIds = {"instance1", "instance2"};
for (String instanceId : instanceIds) {
    JsonObject param = new JsonObject();
    param.addProperty("Width", 1080);
    param.addProperty("Height", 1920);
    param.addProperty("DPI", 420);
    params.put(instanceId, param);
}
AsyncCallback<BatchTaskResponse> callback = new AsyncCallback<BatchTaskResponse>() {
    public void onSuccess(BatchTaskResponse response) {
        // 遍历成功实例
        for (Entry<String, JsonElement> entry : response.SuccResult.entrySet()) {
            String instanceId = entry.getKey();
            JsonElement result = entry.getValue();
            // 处理结果
        }
        // 遍历失败实例
        for (Entry<String, JsonElement> entry : response.FailResult.entrySet()) {
            String instanceId = entry.getKey();
            JsonElement result = entry.getValue();
            // 处理错误
        }
    }

    @Override
    public void onFailure(int code, String msg) {
        // 处理错误
        Log.e(TAG, "Operation failed: " + code + ", " + msg);
    }
};
instance.setResolution(params, callback);
```



